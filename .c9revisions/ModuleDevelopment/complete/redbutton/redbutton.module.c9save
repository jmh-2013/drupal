{"ts":1368127332763,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"<?php\n/**\n * @file\n * Simple example module which adds a delete link to every article node.\n */\n\n/**\n * Implements hook_node_view().\n * \n * This hook gets called everytime a node is being rendered.\n * \n * The $node argument\n * contains the node object. By modifying $node->content, one can alter how the\n * node will be displayed.\n * \n * The $view_mode argument\n * is a string which describes how (or for what purpose) the node is being displayed.\n * Most common values are \"rss\" (in a feed), \"teaser\" (short form in a listing),\n * and \"full\" (on its own page).\n * \n * This function does not return anything, but modifies the node object.\n */\nfunction redbutton_node_view($node, $view_mode) {\n  // Check the type of the node. We only want to show the link for articles.\n  if ($node->type == 'article') {\n    // The t() function is used to pass strings through Drupal's translation engine.\n    $link_text = t('Delete this node');\n    // This is an array of options for the l() function (see below).\n    $link_options = array(\n      'attributes' => array('style' => 'color:#ff0000'),\n    );\n    // The l() function is used to generate HTML for a link (<a> tag).\n    // The first parameter is the text of the link.\n    // The second parameter is the href of the link.\n    // The third parameter is an array of options. There are lots of available options\n    // see the documentation page http://api.drupal.org/api/drupal/includes--common.inc/function/l/7.\n    $link_markup = l($link_text, \"node/$node->nid/delete\", $link_options);\n    $node->content['redbutton'] = array();\n    $node->content['redbutton']['#markup'] = $link_markup;\n    \n    /**\n     * Note: The best practice for adding a link like this is below.\n     * However, it requires deeper Drupal theming knowledge and can be\n     * quite confusing for beginners.\n    $links['redbutton'] = array(\n      'title' => t(\"Delete this node.\"),\n      'href' => \"node/$node->nid/delete\",\n      'attributes' => array('style' => 'color:#ff0000'),\n    );\n    $node->content['links']['redbutton'] = array(\n      '#links' => $links,\n    );\n     * \n     */\n  }\n}\n"]],"start1":0,"start2":0,"length1":0,"length2":2107}]],"length":2107}
